<!DOCTYPE html>
<html lang="en">
<head>
    <title>Dog Walking Servish pty.</title>



    <meta charset="UTF-8">

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/pure-min.css">
    <link rel="stylesheet" href="/stylesheets/style.css">

    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>

</head>

<body>
    <div id="app">
        <button type="button" v-on:click="count--">try</button>
        <h1>Welcom to Dog sevics</h1>
    <p>We work hard here.</p>
    <hr>
    <p>Click a couple times to unlock the a picture of dog!</p>
    <template v-if="count === 0">
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <hr>
        <img v-bind:src="dog" alt="dog of the day!">
    </template>
    </div>
    <script>
        const app = Vue.createApp({

    data(){
        return{
            count: 10,
            dog:''
        };
    },
    methods: {
        async fetchDogImage() {
            try {
                const res = await fetch('https://dog.ceo/api/breeds/image/random');
                const data = await res.json();
                this.dog = data.message;
            } catch (error) {
                console.error('whoops', error);
            }
        }
    },
    watch: {
        count(holdCount){
            if (holdCount === 0) {
                this.fetchDogImage();
            }
        }
    }
});

app.mount('#app');

    </script>

</body>
</html>